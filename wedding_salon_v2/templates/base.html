{% load static %}
{% load dresses_tags %}
{% load accessories_tags %}
{% load brides_tags %}
{% load custom_tags %}
{% show_dresses_categories as dresses_categories %}
{% show_accessories_categories as accessories_categories %}
{% show_brides_categories as brides_categories %}


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image/png" href="{% static 'dress/images/favicon.png' %}">
  <link rel="stylesheet" href="{% static 'dress/css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'dress/css/style.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <title>{{ title }}</title>
</head>

<body>
  <header
    class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
    <div class="col-md-3 mb-2 mb-md-0">
      <a href="{% url 'dresses' %}" class="d-inline-flex link-body-emphasis text-decoration-none">
        <img src="{% static 'dress/images/logo.png' %}" alt="Wedding House logo" width="60" height="70">
      </a>
    </div>

    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
      <li><a href="{% url 'dresses' %}" class="nav-link px-2 {% active request 'dresses' %}">Главная</a></li>
      <li class="dropdown-center">
        <a class="nav-link dropdown-toggle px-2 {% active_dropdown request 'dresses' %}" href="{% url 'dresses' %}"
          id="DressesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Свадебные платья</a>
        <ul class="dropdown-menu" aria-labelledby="DressesDropdown">
          <li><a class="dropdown-item text-center {% active request 'dresses' %}" href="{% url 'dresses' %}">Все
              платья</a></li>
          {% for category in dresses_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li class="dropdown-center">
        <a class="nav-link dropdown-toggle px-2 {% active_dropdown request 'accessories' %}"
          href="{% url 'accessories' %}" id="AccessoriesDropdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false">Аксессуары</a>
        <ul class="dropdown-menu" aria-labelledby="AccessoriesDropdown">
          <li><a class="dropdown-item text-center {% active request 'accessories' %}" href="{% url 'accessories' %}">Все
              аксессуары</a></li>
          {% for category in accessories_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li class="dropdown-center">
        <a class="nav-link dropdown-toggle px-2 {% active_dropdown request 'brides' %}" href="{% url 'brides' %}"
          id="BridesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Невесты</a>
        <ul class="dropdown-menu" aria-labelledby="BridesDropdown">
          <li><a class="dropdown-item text-center {% active request 'brides' %}" href="{% url 'brides' %}">Все
              платья</a></li>
          {% for category in brides_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li><a href="{% url 'reviews' %}" class="nav-link px-2 {% active request 'reviews' %}">Отзывы</a></li>
      <li><a href="{% url 'search' %}" class="nav-link px-2 {% active request 'search' %}">Поиск</a></li>
      <li><a href="{% url 'contacts' %}" class="nav-link px-2 {% active request 'contacts' %}">Контакты</a></li>
    </ul>

    <div class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
      {% if user.is_authenticated %}
      <li><a href="{% url 'profile' %}" class="nav-link px-2 {% active request 'profile' %}">Профиль</a></li>
      <li><a href="{% url 'logout' %}" class="nav-link px-2">{{ user }} | Выйти</a></li>
      {% else %}
      <li><a href="{% url 'login' %}" class="nav-link px-2 {% active request 'login' %}">Войти</a></li>
      <li><a href="{% url 'signup' %}" class="nav-link px-2 {% active request 'signup' %}">Регистрация</a></li>
      {% endif %}
    </div>
  </header>
  <div class="text-center">
    <h4>{{ title }}</h4>
  </div>
  {% block content %}
  {% endblock %}

  <footer class="py-3 my-4">
    <ul class="nav justify-content-center border-bottom pb-3 mb-3">
      <li><a href="{% url 'dresses' %}" class="nav-link-bottom px-2 {% active request 'dresses' %}">Главная</a></li>
      <li class="dropup-center dropup">
        <a class="nav-link-bottom dropdown-toggle px-2 {% active_dropdown request 'dresses' %}"
          href="{% url 'dresses' %}" id="DressesUpdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false">Свадебные платья</a>
        <ul class="dropdown-menu" aria-labelledby="DressesUpdown">
          <li><a class="dropdown-item text-center {% active request 'dresses' %}" href="{% url 'dresses' %}">Все
              платья</a></li>
          {% for category in dresses_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li class="dropup-center dropup">
        <a class="nav-link-bottom dropdown-toggle px-2 {% active_dropdown request 'accessories' %}"
          href="{% url 'accessories' %}" id="AccessoriesUpdown" role="button" data-bs-toggle="dropdown"
          aria-expanded="false">Аксессуары</a>
        <ul class="dropdown-menu" aria-labelledby="AccessoriesUpdown">
          <li><a class="dropdown-item text-center {% active request 'accessories' %}" href="{% url 'accessories' %}">Все
              аксессуары</a></li>
          {% for category in accessories_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li class="dropup-center dropup">
        <a class="nav-link-bottom dropdown-toggle px-2 {% active_dropdown request 'brides' %}" href="{% url 'brides' %}"
          id="BridesUpdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Невесты</a>
        <ul class="dropdown-menu" aria-labelledby="BridesUpdown">
          <li><a class="dropdown-item text-center {% active request 'brides' %}" href="{% url 'brides' %}">Все
              платья</a></li>
          {% for category in brides_categories %}
          <li><a class="dropdown-item text-center {% active_dropdown request category.get_absolute_url %}"
              href="{{ category.get_absolute_url }}">{{ category.title }}</a></li>
          {% endfor %}
        </ul>
      </li>

      <li class="nav-item"><a href="{% url 'reviews' %}"
          class="nav-link-bottom px-2 {% active request 'reviews' %}">Отзывы</a></li>
      <li class="nav-item"><a href="{% url 'search' %}"
          class="nav-link-bottom px-2 {% active request 'search' %}">Поиск</a></li>
      <li class="nav-item"><a href="{% url 'contacts' %}"
          class="nav-link-bottom px-2 {% active request 'contacts' %}">Контакты</a></li>
    </ul>
    <p class="copyright-text">© 2024 Wedding House.</p>
  </footer>

  <script src="{% static 'dress/js/bootstrap.bundle.min.js' %}"></script>
</body>

</html>